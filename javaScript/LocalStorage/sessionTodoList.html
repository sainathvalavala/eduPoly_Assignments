<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Session TodoList</title>
  </head>
  <body>
    <input type="text" id="txt" autocomplete="off" />
    <button onclick="addTodo()">Add Todo</button>
    <ul style="list-style-type: decimal" id="todoList"></ul>
    <script>

      var todos;
      if (window.sessionStorage.getItem("todos")) {
        todos = JSON.parse(window.sessionStorage.getItem("todos"));
      } else {
        todos = [];
      }

      function gentodo() {//generating ui for todos
        document.getElementById("todoList").innerHTML = "";
        todos.forEach(function (x) {
          var nli = document.createElement("li");
          nli.innerHTML = x;
          document.getElementById("todoList").appendChild(nli);
        });
      }

      function addTodo() {//push input elemts into todos
        todos.push(document.getElementById("txt").value);
        // console.log(todos)
        window.sessionStorage.setItem("todos", JSON.stringify(todos));
        // console.log(JSON.stringify(todos)) --stringified array
        document.getElementById("txt").value = "";
        gentodo();
      }
      gentodo(); //generate from  starting
    </script>
  </body>
</html>
